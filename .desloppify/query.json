{
  "command": "next",
  "items": [
    {
      "id": "review::.::holistic::abstraction_fitness::overuse_unknown_in_core_contracts::5ff2ecc1",
      "kind": "finding",
      "tier": 3,
      "effective_tier": 1,
      "confidence": "high",
      "detector": "review",
      "file": ".",
      "summary": "Core interfaces leak `unknown`/`Record<string, unknown>` at critical fields, weakening abstraction value and contract safety.",
      "detail": {
        "holistic": true,
        "dimension": "abstraction_fitness",
        "related_files": [
          "app/src/types/crm.ts",
          "app/src/types/voice.ts"
        ],
        "evidence": [
          "`Ticket` uses `unknown` for `notifications`, `created_by`, `source`, and `source_data`.",
          "`VoiceBotSession.processors_data`, `VoiceBotMessage.attachments`, and `VoiceMessageGroup.widgets` are broad unknown records.",
          "`TicketsModalData.tickets` allows arbitrary keys via intersection with `Record<string, unknown>`."
        ],
        "suggestion": "Define discriminated unions for known payload variants (`source_kind`, attachment kind/type, processor payload types) and replace broad unknown fields with versioned typed envelopes plus explicit `extra?: Record<string, unknown>` escape hatches only where required.",
        "reasoning": ""
      },
      "status": "open",
      "primary_command": "desloppify issues"
    }
  ],
  "queue": {
    "tier_counts": {
      "1": 21,
      "2": 1,
      "3": 55,
      "4": 12
    },
    "requested_tier": null,
    "selected_tier": null,
    "fallback_reason": null,
    "available_tiers": [
      1,
      2,
      3,
      4
    ],
    "total": 89
  },
  "narrative": {
    "phase": "middle_grind",
    "headline": "All T1 items cleared! (21 review findings \u2014 run `desloppify issues`)",
    "dimensions": {
      "lowest_dimensions": [
        {
          "name": "Test health",
          "strict": 6.0,
          "issues": 21,
          "impact": 0.0
        },
        {
          "name": "Design coherence",
          "strict": 49.4,
          "issues": 6,
          "impact": 0.0,
          "subjective": true,
          "impact_description": "re-review to improve"
        },
        {
          "name": "Structure nav",
          "strict": 52.9,
          "issues": 3,
          "impact": 0.0,
          "subjective": true,
          "impact_description": "re-review to improve"
        }
      ],
      "biggest_gap_dimensions": [],
      "stagnant_dimensions": []
    },
    "actions": [
      {
        "type": "issue_queue",
        "detector": "review",
        "count": 21,
        "description": "21 review findings need investigation \u2014 run `desloppify issues` to see the work queue",
        "command": "desloppify issues",
        "impact": 0.0,
        "dimension": "Unknown",
        "priority": 1,
        "lane": "refactor_0"
      },
      {
        "type": "reorganize",
        "detector": "orphaned",
        "count": 12,
        "description": "12 orphaned findings \u2014 delete dead files or relocate with `desloppify move`",
        "command": "desloppify show orphaned --status open",
        "impact": 0.0,
        "dimension": "Code quality",
        "priority": 2,
        "lane": "restructure"
      },
      {
        "type": "reorganize",
        "detector": "flat_dirs",
        "count": 1,
        "description": "1 flat_dirs findings \u2014 create subdirectories and use `desloppify move`",
        "command": "desloppify show flat_dirs --status open",
        "impact": 0.0,
        "dimension": "Code quality",
        "priority": 3,
        "lane": "restructure"
      },
      {
        "type": "refactor",
        "detector": "structural",
        "count": 3,
        "description": "3 structural findings \u2014 decompose large files \u2014 extract logic into focused modules",
        "command": "desloppify show structural --status open",
        "impact": 0.0,
        "dimension": "File health",
        "priority": 4,
        "lane": "refactor_1"
      },
      {
        "type": "refactor",
        "detector": "test_coverage",
        "count": 20,
        "description": "20 test_coverage findings \u2014 add tests for untested production modules \u2014 prioritize by import count",
        "command": "desloppify show test_coverage --status open",
        "impact": 0.0,
        "dimension": "Test health",
        "priority": 5,
        "lane": "test_coverage"
      },
      {
        "type": "manual_fix",
        "detector": "smells",
        "count": 20,
        "description": "20 smells findings \u2014 inspect with `desloppify next` and fix manually",
        "command": "desloppify show smells --status open",
        "impact": 0.0,
        "dimension": "Code quality",
        "priority": 6,
        "lane": "refactor_1"
      },
      {
        "type": "manual_fix",
        "detector": "subjective_review",
        "count": 1,
        "description": "1 files need design review \u2014 run design review with dimension templates",
        "command": "desloppify fix review",
        "impact": 0.0,
        "dimension": "Test health",
        "priority": 7,
        "lane": "refactor_0"
      }
    ],
    "strategy": {
      "fixer_leverage": {
        "auto_fixable_count": 0,
        "total_count": 120,
        "coverage": 0.0,
        "impact_ratio": 0.0,
        "recommendation": "none"
      },
      "lanes": {
        "restructure": {
          "actions": [
            2,
            3
          ],
          "file_count": 13,
          "total_impact": 0.0,
          "automation": "manual",
          "run_first": false
        },
        "refactor_0": {
          "actions": [
            1,
            7
          ],
          "file_count": 1,
          "total_impact": 0.0,
          "automation": "manual",
          "run_first": false
        },
        "refactor_1": {
          "actions": [
            4,
            6
          ],
          "file_count": 10,
          "total_impact": 0.0,
          "automation": "manual",
          "run_first": false
        },
        "test_coverage": {
          "actions": [
            5
          ],
          "file_count": 20,
          "total_impact": 0.0,
          "automation": "manual",
          "run_first": false
        }
      },
      "can_parallelize": true,
      "hint": "4 independent workstreams, safe to parallelize. Rescan after each phase to verify. Review: 21 finding(s) \u2014 `desloppify issues`."
    },
    "tools": {
      "fixers": [
        {
          "name": "dead-useeffect",
          "detector": "smells",
          "open_count": 20,
          "command": "desloppify fix dead-useeffect --dry-run"
        },
        {
          "name": "empty-if-chain",
          "detector": "smells",
          "open_count": 20,
          "command": "desloppify fix empty-if-chain --dry-run"
        }
      ],
      "move": {
        "available": true,
        "relevant": true,
        "reason": "12 orphaned files + 1 flat directories",
        "usage": "desloppify move <source> <dest> [--dry-run]"
      },
      "plan": {
        "command": "desloppify plan",
        "description": "Generate prioritized markdown cleanup plan"
      },
      "badge": {
        "generated": true,
        "in_readme": false,
        "path": "scorecard.png",
        "recommendation": "Add to README: <img src=\"scorecard.png\" width=\"100%\">"
      }
    },
    "debt": {
      "overall_gap": 0.0,
      "wontfix_count": 0,
      "worst_dimension": null,
      "worst_gap": 0.0,
      "trend": "stable"
    },
    "milestone": "All T1 items cleared!",
    "primary_action": {
      "command": "desloppify issues",
      "description": "21 review findings need investigation \u2014 run `desloppify issues` to see the work queue"
    },
    "why_now": "4 independent workstreams, safe to parallelize. Rescan after each phase to verify. Review: 21 finding(s) \u2014 `desloppify issues`.",
    "verification_step": {
      "command": "desloppify scan",
      "reason": "revalidate after changes"
    },
    "risk_flags": [],
    "strict_target": {
      "target": 95.0,
      "current": 64.0,
      "gap": 31.0,
      "state": "below",
      "warning": null
    },
    "reminders": [
      {
        "type": "review_findings_pending",
        "message": "21 review finding(s) need investigation. Run `desloppify issues` to see the work queue.",
        "command": "desloppify issues",
        "priority": 1,
        "severity": "high"
      }
    ],
    "reminder_history": {
      "auto_fixers_available": 2,
      "zone_classification": 3,
      "dry_run_first": 2,
      "report_scores": 28,
      "feedback_nudge": 3,
      "stagnant_nudge": 14,
      "review_findings_pending": 3
    }
  },
  "overall_score": 64.0,
  "objective_score": 58.1,
  "strict_score": 64.0,
  "scorecard_dimensions": [
    {
      "name": "File health",
      "score": 89.5,
      "strict": 89.5,
      "checks": 20,
      "issues": 3,
      "tier": 3,
      "subjective": false
    },
    {
      "name": "AI generated debt",
      "score": 89.4,
      "strict": 89.4,
      "checks": 10,
      "issues": 0,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "ai_generated_debt"
      ]
    },
    {
      "name": "API coherence",
      "score": 58.4,
      "strict": 58.4,
      "checks": 10,
      "issues": 2,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "api_surface_coherence"
      ]
    },
    {
      "name": "Abstraction fit",
      "score": 60.7,
      "strict": 60.7,
      "checks": 10,
      "issues": 2,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "abstraction_fitness"
      ]
    },
    {
      "name": "Auth consistency",
      "score": 75.7,
      "strict": 75.7,
      "checks": 10,
      "issues": 1,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "authorization_consistency"
      ]
    },
    {
      "name": "Code quality",
      "score": 88.2,
      "strict": 88.2,
      "checks": 159,
      "issues": 33,
      "tier": 3,
      "subjective": false
    },
    {
      "name": "Convention drift",
      "score": 75.9,
      "strict": 75.9,
      "checks": 10,
      "issues": 1,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "convention_outlier"
      ]
    },
    {
      "name": "Cross-module arch",
      "score": 87.3,
      "strict": 87.3,
      "checks": 10,
      "issues": 0,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "cross_module_architecture"
      ]
    },
    {
      "name": "Design coherence",
      "score": 49.4,
      "strict": 49.4,
      "checks": 10,
      "issues": 6,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "design_coherence"
      ]
    },
    {
      "name": "Duplication",
      "score": 100.0,
      "strict": 100.0,
      "checks": 50,
      "issues": 0,
      "tier": 3,
      "subjective": false
    },
    {
      "name": "Elegance",
      "score": 74.8,
      "strict": 74.8,
      "checks": 30,
      "issues": 3,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "high_level_elegance",
        "mid_level_elegance",
        "low_level_elegance"
      ]
    },
    {
      "name": "Error consistency",
      "score": 76.4,
      "strict": 76.4,
      "checks": 10,
      "issues": 1,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "error_consistency"
      ]
    },
    {
      "name": "Security",
      "score": 100.0,
      "strict": 100.0,
      "checks": 54,
      "issues": 0,
      "tier": 4,
      "subjective": false
    },
    {
      "name": "Stale migration",
      "score": 54.1,
      "strict": 54.1,
      "checks": 10,
      "issues": 2,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "incomplete_migration"
      ]
    },
    {
      "name": "Structure nav",
      "score": 52.9,
      "strict": 52.9,
      "checks": 10,
      "issues": 3,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "package_organization"
      ]
    },
    {
      "name": "Test health",
      "score": 6.0,
      "strict": 6.0,
      "checks": 317,
      "issues": 21,
      "tier": 4,
      "subjective": false
    }
  ],
  "subjective_measures": [
    {
      "name": "AI generated debt",
      "score": 89.4,
      "strict": 89.4,
      "checks": 10,
      "issues": 0,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "ai_generated_debt"
      ]
    },
    {
      "name": "API coherence",
      "score": 58.4,
      "strict": 58.4,
      "checks": 10,
      "issues": 2,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "api_surface_coherence"
      ]
    },
    {
      "name": "Abstraction fit",
      "score": 60.7,
      "strict": 60.7,
      "checks": 10,
      "issues": 2,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "abstraction_fitness"
      ]
    },
    {
      "name": "Auth consistency",
      "score": 75.7,
      "strict": 75.7,
      "checks": 10,
      "issues": 1,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "authorization_consistency"
      ]
    },
    {
      "name": "Convention drift",
      "score": 75.9,
      "strict": 75.9,
      "checks": 10,
      "issues": 1,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "convention_outlier"
      ]
    },
    {
      "name": "Cross-module arch",
      "score": 87.3,
      "strict": 87.3,
      "checks": 10,
      "issues": 0,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "cross_module_architecture"
      ]
    },
    {
      "name": "Design coherence",
      "score": 49.4,
      "strict": 49.4,
      "checks": 10,
      "issues": 6,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "design_coherence"
      ]
    },
    {
      "name": "Elegance",
      "score": 74.8,
      "strict": 74.8,
      "checks": 30,
      "issues": 3,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "high_level_elegance",
        "mid_level_elegance",
        "low_level_elegance"
      ]
    },
    {
      "name": "Error consistency",
      "score": 76.4,
      "strict": 76.4,
      "checks": 10,
      "issues": 1,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "error_consistency"
      ]
    },
    {
      "name": "Stale migration",
      "score": 54.1,
      "strict": 54.1,
      "checks": 10,
      "issues": 2,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "incomplete_migration"
      ]
    },
    {
      "name": "Structure nav",
      "score": 52.9,
      "strict": 52.9,
      "checks": 10,
      "issues": 3,
      "tier": 4,
      "subjective": true,
      "placeholder": false,
      "cli_keys": [
        "package_organization"
      ]
    }
  ],
  "config": {
    "target_strict_score": 95,
    "review_max_age_days": 30,
    "review_batch_max_files": 80,
    "holistic_max_age_days": 30,
    "generate_scorecard": true,
    "badge_path": "scorecard.png",
    "exclude": [],
    "ignore": [],
    "ignore_metadata": {},
    "zone_overrides": {},
    "review_dimensions": [],
    "large_files_threshold": 0,
    "props_threshold": 0,
    "finding_noise_budget": 10,
    "finding_noise_global_budget": 0,
    "languages": {}
  }
}
