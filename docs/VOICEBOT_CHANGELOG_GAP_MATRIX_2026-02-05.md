# VoiceBot Changelog Gap Matrix (from 2026-02-05)

Auto-generated from `/home/strato-space/voicebot/CHANGELOG.md`.
Each changelog bullet has a dedicated BD verification task in copilot.

- Generated at: 2026-02-18T02:03:56.489746Z
- Items: 133

## Preliminary Gap Summary
- `LIKELY_COVERED`: 104
- `PARTIAL`: 17
- `GAP`: 12

## Items

| # | Date | Section | Pre-gap | BD | Changelog item |
|---|---|---|---|---|---|
| 001 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-ev4` | **16:20** Active-session behavior was still ambiguous between Telegram, WebRTC FAB, and session pages; users could implicitly fall back to unrelated open sessions instead of deterministic explicit active-session routing. |
| 002 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-8zr` | **16:20** Socket session-closing flow trusted client payload context for user mapping and did not uniformly enforce session/project access checks across mutating socket events. |
| 003 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-zhd` | **16:20** Shared Mongo/Redis between prod and beta runtimes allowed cross-runtime workers to pick foreign sessions/messages, causing stuck processing and environment leakage. |
| 004 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-2sj` | **16:20** Deleting transcript segments could leave stale overlapping categorization rows in message projections, causing UI inconsistency between Transcription and Categorization tabs. |
| 005 | 2026-02-17 | PROBLEM SOLVED | PARTIAL | `copilot-0mi` | **17:33** Telegram responses were inconsistent (`prefix + field headers`) across `/start`, `/session`, `/done`, and postprocessing events, which complicated quick parsing and copy/reuse in chat operations. |
| 006 | 2026-02-17 | PROBLEM SOLVED | PARTIAL | `copilot-22x` | **17:33** `/login` behavior still depended on active-session context, while operators needed a deterministic auth-entry link regardless of current session mapping. |
| 007 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-nvg` | **17:33** Session page controls/status did not match the new FAB `New/Rec` contract, so operators could not trigger explicit `Rec` from a session row with a predictable active-session sync. |
| 008 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-ris` | **17:52** Session status pictogram near session-page action buttons was not fully tied to runtime `State` values (`cutting`, `final_uploading`, `error`, etc.), so operators lost quick visual feedback for real recorder state. |
| 009 | 2026-02-17 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-uzp` | **18:25** Opening `/session/:id` for a session inaccessible in the current runtime showed endless spinner instead of an explicit "session not found / runtime mismatch" state. |
| 010 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-obm` | **16:20** Implemented strict active-session semantics across TG/Web/WebRTC: |
| 011 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-ajg` | **16:20** Added Web API + UI active-session controls: |
| 012 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-xgk` | **16:20** Added runtime isolation contract: |
| 013 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-s93` | **16:20** Hardened socket contracts: |
| 014 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-sm0` | **17:33** Unified Telegram session-event output to a strict 4-line message contract: |
| 015 | 2026-02-17 | FEATURE IMPLEMENTED | PARTIAL | `copilot-orh` | **17:33** Reworked `/login` to issue one-time `tg_auth` links (token in `automation_one_use_tokens`), fully independent of active-session state. |
| 016 | 2026-02-17 | FEATURE IMPLEMENTED | GAP | `copilot-7v2` | **17:33** Updated session page UI actions to `Rec / Activate / Done` with FAB state sync and visual status markers (`rec/pause/closed`). |
| 017 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-szo` | **17:52** Finalized session-page controls to `New / Rec / Cut / Pause / Done` (same order as FAB) and switched left-side pictogram to full state-driven mapping. |
| 018 | 2026-02-17 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-ueu` | **18:25** Improved session-page resilience on 404 response from `/voicebot/session` by introducing explicit runtime-mismatch UI and retry-safe error rendering when a session is outside the active runtime. |
| 019 | 2026-02-17 | CHANGES | LIKELY_COVERED | `copilot-qkd` | **16:20** Backend session flow updates: |
| 020 | 2026-02-17 | CHANGES | LIKELY_COVERED | `copilot-amj` | **16:20** Runtime isolation implementation: |
| 021 | 2026-02-17 | CHANGES | LIKELY_COVERED | `copilot-1he` | **16:20** API/routes and frontend integration: |
| 022 | 2026-02-17 | CHANGES | PARTIAL | `copilot-9x8` | **16:20** Reliability and compatibility coverage: |
| 023 | 2026-02-17 | CHANGES | PARTIAL | `copilot-e2o` | **17:33** Added shared formatter module `voicebot/session_telegram_message.js` and switched message producers (`voicebot-tgbot.js`, `voicebot/common_jobs/done_multiprompt.js`, `voicebot/postprocessing/all_custom_prompts.js`) to unified event output. |
| 024 | 2026-02-17 | CHANGES | PARTIAL | `copilot-r75` | **17:33** Updated Telegram `/login` path in `voicebot-tgbot.js`: token generation (`crypto.randomBytes`), persistence in one-use tokens collection, and command/help text updates. |
| 025 | 2026-02-17 | CHANGES | LIKELY_COVERED | `copilot-2mo` | **17:33** Updated `app/src/components/voicebot/MeetingCard.jsx` with `Rec / Activate / Done`, active-session localStorage/event sync to FAB, and rec/pause/closed status icon rendering. |
| 026 | 2026-02-17 | CHANGES | LIKELY_COVERED | `copilot-3tx` | **17:52** Updated `app/src/components/voicebot/MeetingCard.jsx` status icon mapping to runtime states: |
| 027 | 2026-02-17 | CHANGES | LIKELY_COVERED | `copilot-yud` | **17:52** Updated `plan/session-managment.md` and `README.md` to align documentation with the new button order and state-driven pictogram contract. |
| 028 | 2026-02-17 | CHANGES | PARTIAL | `copilot-6jv` | **17:33** Updated session management spec in `plan/session-managment.md` to document `/login` one-time auth-link semantics. |
| 029 | 2026-02-17 | CHANGES | GAP | `copilot-9qu` | **17:33** Adjusted `__tests__/common_jobs/done_multiprompt.test.js` assertions to validate the new 4-line Telegram message contract. |
| 030 | 2026-02-17 | CHANGES | PARTIAL | `copilot-f4f` | **18:25** Updated session fetch UX in `app/src/store/voiceBot.js` + `app/src/pages/SessionPage.jsx` and enriched request diagnostics in `app/src/store/request.js` to distinguish 404 runtime-mismatch states from other load errors. |
| 031 | 2026-02-16 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-dmw` | **07:19** Telegram screenshot/document attachments were not consistently accessible to external processors (LLM/MCP) because the only supported path required session auth and depended on message ids; we now provide a stable, direct attachment contract without exposing Telegram bot tokens. |
| 032 | 2026-02-16 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-jte` | **07:19** External attachment links needed to be explicit about compatibility between legacy UI consumption and stable public access; mixed behavior could break automation consumers and direct download tooling. |
| 033 | 2026-02-16 | FEATURE IMPLEMENTED | PARTIAL | `copilot-csk` | **07:19** Added a stable public attachment endpoint: `GET /voicebot/public_attachment/:session_id/:file_unique_id` for Telegram-only attachments (no session auth, lookup by session + file_unique_id). |
| 034 | 2026-02-16 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-9gj` | **07:19** Extended `session_attachments` payload to include both legacy protected `uri` and optional `direct_uri` so existing UI flow stays intact while external consumers get stable references. |
| 035 | 2026-02-16 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-yup` | **07:19** Added direct rendering path in `Screenshort` for `direct_uri` with protected fallback to `/voicebot/message_attachment/...`. |
| 036 | 2026-02-16 | CHANGES | PARTIAL | `copilot-aqt` | **07:19** Backend: added public attachment resolver and stream proxy in `crm/controllers/voicebot.js`, and registered public route in `crm/routes/voicebot.js`. |
| 037 | 2026-02-16 | CHANGES | LIKELY_COVERED | `copilot-0da` | **07:19** Backend auth gate updated in `voicebot-backend.js` to allow unauthenticated `/voicebot/public_attachment/*` requests for public retrieval. |
| 038 | 2026-02-16 | CHANGES | LIKELY_COVERED | `copilot-97q` | **07:19** Frontend: updated `Screenshort.jsx` and attachment normalization in `app/src/store/voiceBot.js` to consume `direct_uri` safely. |
| 039 | 2026-02-16 | CHANGES | LIKELY_COVERED | `copilot-n5l` | **07:19** Tests/docs: added/extended API+smoke coverage and docs for public attachment delivery in: |
| 040 | 2026-02-15 | PROBLEM SOLVED | PARTIAL | `copilot-dep` | **15:00** Telegram voice bot session behavior was not aligned for deterministic handoff, with unclear active-session ownership semantics across `/start`, `/done`, and incoming content messages. |
| 041 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-wca` | **15:00** Session selection behavior for forwarded content and user-owned active sessions was undefined, creating inconsistency in how new voice/text messages should be attached. |
| 042 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-gvq` | **09:43** Telegram bot command discoverability and login entrypoint were still not codified for operators, increasing support overhead during command onboarding. |
| 043 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-g4v` | **17:30** Telegram screenshots/documents did not have a token-safe way to render in Web UI; direct Telegram file URLs would leak bot tokens and attachments were not exposed as a stable UI read model. |
| 044 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-2nj` | **16:01** OpenAI quota failures could stall transcription or categorization indefinitely, requiring manual restarts even after the balance was restored. |
| 045 | 2026-02-15 | PROBLEM SOLVED | PARTIAL | `copilot-xqt` | **19:53** `/session` and `/login` responses could still surface internal session URLs and did not consistently expose session metadata, forcing manual mapping when users revisited existing sessions. |
| 046 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-mwg` | **21:12** Redis queue overload (maxmemory + noeviction) could stall sequential processors: BullMQ enqueue failed while `is_processing` flags were already set, causing categorization/transcription to loop in a stale-reset state without making progress. |
| 047 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-l20` | **21:31** Redis cleanup automation was too conservative for high-throughput queues and included an unsafe emergency path that could delete waiting jobs; cleanup is now bounded and safe (history-only) with stream trimming. |
| 048 | 2026-02-15 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-0g1` | **22:10** OpenAI spend could spike because categorization ran on trivial short text messages and used a long instruction prompt; categorization now skips trivial short texts/commands and defaults to a cheaper model (configurable). |
| 049 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-8qn` | **15:00** Added an explicit planning document that defines Telegram voicebot session lifecycle and routing behavior (`plan/session-managment.md`): active session model, command semantics, and session-link normalization/representation. |
| 050 | 2026-02-15 | FEATURE IMPLEMENTED | PARTIAL | `copilot-3y0` | **09:43** Extended the Telegram session plan with a dedicated `/login` command and explicit `@strato_voice_bot` command set for operator operations (`/start`, `/done`, `/session`, `/login`). |
| 051 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-328` | **17:30** Added session attachments support end-to-end: |
| 052 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-wxa` | **17:30** UI: added `Screenshort` tab to render screenshots/documents (preview + caption + timestamp). |
| 053 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-7vb` | **17:30** LLM context: screenshots/documents are included in categorization/create_tasks input via structured blocks without triggering transcription loops. |
| 054 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-xhb` | **17:30** Added Jest smoke tests for the Telegram attachment flow and the attachment proxy endpoint. |
| 055 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-6lv` | **16:01** Processing loop now auto-recovers quota-stopped work: once account balance is restored, transcription and categorization jobs requeue automatically without manual intervention, and quota markers are safely reset once successful. |
| 056 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-emo` | **19:53** Telegram command responses were normalized to public host links and enriched with structured metadata: |
| 057 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-e7y` | **19:53** Added exponential retry limits and backoff metadata for transcription/categorization recovery (`transcription_attempts`, `categorization_attempts`, `*_next_attempt_at`) with hard fail markers to prevent endless retries. |
| 058 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-6ym` | **21:12** Hardened BullMQ queue behavior to prevent Redis OOM stalls: |
| 059 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-st8` | **21:31** Improved Redis protection rails: |
| 060 | 2026-02-15 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-6of` | **22:10** Added LLM cost controls: |
| 061 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-5b2` | **15:00** Added `plan/session-managment.md` with a complete requirements and execution-ready design for: |
| 062 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-g7i` | **09:43** Updated the same session-management specification to include: |
| 063 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-w8b` | **17:30** Backend: added `GET /voicebot/message_attachment/:message_id/:attachment_index`, extended message persistence with `message_type` + `attachments[]`, introduced `HANDLE_ATTACHMENT` job + idempotency for Telegram retries, and exposed `session_attachments` via `POST /voicebot/session`. |
| 064 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-9xw` | **17:30** Frontend: added `Screenshort` tab/component and wired session attachment URIs for Telegram/web sources. |
| 065 | 2026-02-15 | CHANGES | GAP | `copilot-1ot` | **17:30** Docs/tests: updated `docs/VOICEBOT_API*.md`, added smoke tests under `__tests__/smoke/`, and linked implementation tasks in `plan/session-managment.md`. |
| 066 | 2026-02-15 | CHANGES | GAP | `copilot-nrv` | **16:01** Backend: updated auto-retry loop (`voicebot/common_jobs/processing_loop.js`) and processors (`voicebot/voice_jobs/transcribe.js`, `voicebot/voice_jobs/categorize.js`) to treat `insufficient_quota` as retryable without terminal corruption and reset quota-lock state after successful retry. |
| 067 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-irv` | **19:53** Telegram bot formatting and session state resolution updates: |
| 068 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-0vc` | **19:53** Retry controls and hard-stop behavior: |
| 069 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-4bp` | **21:12** Queue retention + enqueue safety: |
| 070 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-5qu` | **21:31** `voicebot/redis_monitor.js` emergency cleanup no longer risks dropping queued work (`wait`), and additionally trims `bull:<queue>:events` streams. |
| 071 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-aaa` | **22:10** Reduced LLM token usage by shortening categorization/task prompts and adding short-text skip guards in the categorization processor. |
| 072 | 2026-02-15 | CHANGES | LIKELY_COVERED | `copilot-3em` | **22:36** Docs: documented LLM cost control env knobs and updated the auto-reprocessing notes in `README.md`/`AGENTS.md`. |
| 073 | 2026-02-14 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-b6w` | **06:55** Large web audio uploads could appear stuck at 0% because the UI progress only advanced after the request completed; the uploader now tracks byte-level progress during upload. |
| 074 | 2026-02-14 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-qkq` | **06:57** Uploads between 500MB and 600MB could fail at the edge due to a lower request body limit; the edge Nginx limit was raised to align with the product's 600MB cap. |
| 075 | 2026-02-14 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-v0b` | **06:55** Added real-time upload feedback for large audio files (file name + uploaded MB / total MB) while a web upload is in progress. |
| 076 | 2026-02-14 | CHANGES | LIKELY_COVERED | `copilot-4jr` | **06:55** Frontend: added axios upload progress tracking and improved error hints for common failures (413, network, timeouts). |
| 077 | 2026-02-14 | CHANGES | LIKELY_COVERED | `copilot-3u9` | **06:55** Frontend: stopped forcing the multipart Content-Type header so the browser/axios can set the correct boundary automatically. |
| 078 | 2026-02-14 | CHANGES | LIKELY_COVERED | `copilot-fo9` | **06:55** Docs: documented where source WebM/audio files live on disk and how duration backfill is computed (including an ffprobe fallback) in `AGENTS.md`. |
| 079 | 2026-02-14 | CHANGES | PARTIAL | `copilot-baj` | **06:57** Ops (edge): increased Nginx request body size limit to `700m` and upload body timeout to `600s` for `voice.stratospace.fun`. |
| 080 | 2026-02-13 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-ddl` | **09:45** Transcription chunk actions overlapped content and were inconsistent across segments; the UI now renders Copy/Edit/Delete in the free space above the chunk text (hover-only) and reserves safe right padding to prevent overlap. |
| 081 | 2026-02-13 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-dw8` | **09:45** Session/message durations were frequently zero or derived from unstable indexes, breaking timeline rendering and downstream analytics; duration is now resolved from message/chunk metadata and `ffprobe` as needed, and canonical segments are rebuilt with monotonic start/end times. |
| 082 | 2026-02-13 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-bs3` | **09:45** Closing a multiprompt session could unexpectedly spawn a new session automatically; the done handler now only closes the current session and emits update/notify events. |
| 083 | 2026-02-13 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-mub` | **09:45** Added Copy action for transcription segments (hover-only) and an inline timeline label under the segment text (`HH:mm, mm:ss - mm:ss`) derived from canonical transcription or legacy chunks. |
| 084 | 2026-02-13 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-bix` | **09:45** Added `services/transcriptionTimeline.js` to normalize legacy `transcription_chunks[]` into a stable timeline and to resolve duration consistently across sources. |
| 085 | 2026-02-13 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-kqt` | **09:45** Added diagnostics CLI `node cli/diagnostics/recalc_session_duration.js <sessionId> [--apply]` to recompute and optionally backfill message/session durations. |
| 086 | 2026-02-13 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-s8z` | **09:45** Added unit tests for timeline normalization and session-close behavior. |
| 087 | 2026-02-13 | CHANGES | GAP | `copilot-ayv` | **09:45** Backend: improved audio duration probing via `ffprobe` JSON (`utils/audio_utils.js`), persisted upload duration in `crm/controllers/audio_upload.js`, and used timeline normalization in `crm/controllers/voicebot.js` and `voicebot/voice_jobs/transcribe.js`. |
| 088 | 2026-02-13 | CHANGES | LIKELY_COVERED | `copilot-dwl` | **09:45** Frontend: simplified the Transcription table header (removed the standalone time column) and polished segment rendering/actions in `TranscriptionTableRow.jsx`. |
| 089 | 2026-02-13 | CHANGES | GAP | `copilot-ayy` | **09:45** Planning: added WBS + Mermaid artifacts for spec tracking (`plan/spec-task-breakdown-v1.md`, `plan/spec-wbs-status.png`). |
| 090 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-eho` | **05:22** Planning requirements for a large event-log/edit/rollback initiative were scattered across discussions; this session captures the source planning input in-repo for traceability and coordinated implementation. |
| 091 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-b9i` | **08:35** Planning specs drifted on transcript identity and storage layers, mixing canonical transcription facts with UI-facing chunk lists; specs now converge on an immutable `transcription_raw -> transcription` chain and treat list views as derived/legacy. |
| 092 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-om9` | **09:12** Closed the remaining blocker on transcript version storage by locking versions at the session level, with session API responses returning only the effective final transcript after edits. |
| 093 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-tyz` | **09:14** Closed the remaining blocker on speaker display defaults by locking technical-label rendering to `Спикер 1/2/...` while preserving raw labels in immutable transcription facts. |
| 094 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-9hl` | **18:31** Transcript segment edits lacked a durable audit trail and safe rollback semantics; introduced an append-only session log with replayable events for edit/delete/rollback actions. |
| 095 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-ot2` | **19:06** Operators could not edit or delete transcript segments directly in the Transcription tab; added UI controls wired to the new edit/delete endpoints. |
| 096 | 2026-02-12 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-89c` | **19:25** Segment editing was modal-heavy and required a mandatory reason for destructive actions; moved to inline editing, hover-only actions, immediate delete, and optional reason. |
| 097 | 2026-02-12 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-t85` | **05:22** Added raw stakeholder planning artifact `plan/edit-event-log-req.md` as the baseline input for the upcoming event-log specification work. |
| 098 | 2026-02-12 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-2tr` | **08:35** Added an event-log/edit/rollback spec draft (`plan/edit-event-log-plan.md`) aligned to immutable facts, append-only events, and replayable projections. |
| 099 | 2026-02-12 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-6av` | **08:35** Refined the diarization migration plan to make `transcription_raw -> transcription` the canonical immutable storage contract and documented the model-agnostic `transcription` schema. |
| 100 | 2026-02-12 | FEATURE IMPLEMENTED | GAP | `copilot-bf5` | **09:18** Added a consolidated launch draft `plan/implementation-draft-v1.md` with decision-locked staged execution (`event-log -> diarization`). |
| 101 | 2026-02-12 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-8h6` | **18:31** Added session log storage and CRM endpoints for transcript segment edit/delete/rollback, aligned to lowercase snake_case event taxonomy and replay-friendly actor/target metadata. |
| 102 | 2026-02-12 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-3vx` | **19:06** Added Transcription tab segment actions (edit/delete) plus a Log tab to surface session events. |
| 103 | 2026-02-12 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-th5` | **19:25** Updated the UI to show segment actions on hover only, make `reason` optional across action endpoints, and move the Log tab to the end of the tab bar. |
| 104 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-tdt` | **05:22** Updated `AGENTS.md`, `README.md`, and `CHANGELOG.md` to document planning-artifact placement and close-session outcomes. |
| 105 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-be3` | **08:35** Planning specs: updated `plan/gpt-4o-transcribe-diarize-plan.md` to clarify the minimal immutable transcription contract and added `plan/edit-event-log-plan.md` for segment edits/rollback. |
| 106 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-8zy` | **08:35** No runtime, API, database, or production behavior changes were introduced by these planning/spec updates. |
| 107 | 2026-02-12 | CHANGES | GAP | `copilot-51l` | **09:22** Synchronized locked clarification outcomes across `plan/edit-event-log-plan.md`, `plan/gpt-4o-transcribe-diarize-plan.md`, and `plan/edit-event-log-req.md`. |
| 108 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-itr` | **09:24** Updated planning references in `AGENTS.md` and `README.md` to include `plan/implementation-draft-v1.md` and session-level transcript-versioning semantics. |
| 109 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-pim` | **18:31** Backend: introduced `automation_voice_bot_session_log` storage and API routes for segment actions (`crm/controllers/voicebot.js`) to support replayable history and rollback. |
| 110 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-io6` | **19:06** Frontend: added Transcription and Log tab UI for segment operations and event visibility (segment-level edit/delete wiring). |
| 111 | 2026-02-12 | CHANGES | LIKELY_COVERED | `copilot-b24` | **19:25** Frontend/backend: removed required `reason` validation for action endpoints and streamlined the editing workflow to be inline (no modal). |
| 112 | 2026-02-07 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-jzk` | **07:10** Sessions could not be summarized on-demand when a project was missing or the automatic conditions hadn't fired; the UI can now manually enqueue `session_ready_to_summarize` with a PMO fallback project, without affecting the standard automatic trigger. |
| 113 | 2026-02-07 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-g68` | **08:32** Circle action buttons in the session header were visually misaligned (icons shifted up), making actions appear on different levels; icons are now centered so the buttons align consistently. |
| 114 | 2026-02-07 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-ziw` | **07:10** Added a `Summarize (∑)` action next to the AI title generator to trigger summarization and disable itself for 3 minutes. |
| 115 | 2026-02-07 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-a9z` | **07:10** Added `POST /voicebot/trigger_session_ready_to_summarize` to (1) assign PMO when `project_id` is missing and (2) enqueue the `session_ready_to_summarize` notify event (hooks from `notifies.hooks.yaml` will run via the notifies worker). |
| 116 | 2026-02-07 | FEATURE IMPLEMENTED | GAP | `copilot-a0c` | **07:10** Added Jest unit + integration tests and API docs for `/voicebot/create_session`, `/voicebot/add_text`, and `/voicebot/trigger_session_ready_to_summarize`. |
| 117 | 2026-02-07 | CHANGES | LIKELY_COVERED | `copilot-ap6` | **07:10** Frontend: `MeetingCard.jsx` and `voiceBot.js` add manual summarize trigger + 3-minute cooldown. |
| 118 | 2026-02-07 | CHANGES | PARTIAL | `copilot-97r` | **07:10** Backend: `crm/controllers/voicebot.js`, `crm/routes/voicebot.js` add manual summarize endpoint (PMO assign + notify enqueue). |
| 119 | 2026-02-07 | CHANGES | GAP | `copilot-eyu` | **07:10** Tests/docs: `__tests__/controllers/*`, `__tests__/setup.js`, plus `docs/VOICEBOT_API*.md`. |
| 120 | 2026-02-07 | CHANGES | LIKELY_COVERED | `copilot-jfi` | **08:32** Frontend: centered icon rendering for circle action buttons in `MeetingCard.jsx` to avoid baseline drift. |
| 121 | 2026-02-06 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-jyr` | **13:35** Session project assignment notifies were emitted on rename and lacked change context; notifies now fire only when `project_id` actually changes and include old/new project ids. |
| 122 | 2026-02-06 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-b3v` | **22:00** Local notify hooks could fail silently (detached spawn with ignored stdio), making production debugging difficult; hook runner now logs starts and spawn failures with `event`, `cmd`, `session_id`, and payload context. |
| 123 | 2026-02-06 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-vq4` | **13:35** Introduced `session_ready_to_summarize` notify event when both conditions are met: session is closed and `project_id` is assigned (emitted on close or on project assignment for already closed sessions). |
| 124 | 2026-02-06 | FEATURE IMPLEMENTED | LIKELY_COVERED | `copilot-qeb` | **13:35** Added an optional local notify hooks runner (YAML/JSON config) so events can trigger background commands (for example StratoProject summarization) without blocking the queue worker. |
| 125 | 2026-02-06 | CHANGES | PARTIAL | `copilot-61m` | **13:35** Added `VOICE_BOT_NOTIFY_HOOKS_CONFIG` to `.env.example` and added `notifies.hooks.yaml` sample config. |
| 126 | 2026-02-06 | CHANGES | LIKELY_COVERED | `copilot-kks` | **22:00** Updated the sample hooks config to use an absolute `uv` path to avoid PATH differences under PM2/systemd. |
| 127 | 2026-02-06 | CHANGES | PARTIAL | `copilot-7l7` | **13:35** Ignored fast-agent local artifacts (`agents/.venv/`, `agents/logs/`) in `.gitignore`. |
| 128 | 2026-02-06 | CHANGES | LIKELY_COVERED | `copilot-g44` | **13:35** Bumped frontend package version to `0.0.39` (`app/package.json`). |
| 129 | 2026-02-05 | PROBLEM SOLVED | LIKELY_COVERED | `copilot-sve` | Closed sessions could not accept web audio uploads, blocking late chunks from entering the processing pipeline. |
| 130 | 2026-02-05 | FEATURE IMPLEMENTED | GAP | `copilot-mes` | None. |
| 131 | 2026-02-05 | CHANGES | GAP | `copilot-16h` | Allow `/voicebot/upload_audio` to accept inactive sessions unless `is_deleted=true` (`crm/controllers/audio_upload.js`). |
| 132 | 2026-02-05 | CHANGES | LIKELY_COVERED | `copilot-4qs` | Keep the upload UI available for closed sessions and disable only when the session is deleted (`app/src/components/voicebot/SessionStatusWidget.jsx`). |
| 133 | 2026-02-05 | CHANGES | LIKELY_COVERED | `copilot-d9l` | Bumped frontend package version to `0.0.38` (`app/package.json`). |
